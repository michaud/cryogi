import { IconButton } from '@material-ui/core';
import LibraryAddIcon from '@material-ui/icons/LibraryAdd';
import LibraryAddCheckIcon from '@material-ui/icons/LibraryAddCheck';

const altImg = `data:image/svg+xml,%3csvg xmlns:dc='http://purl.org/dc/elements/1.1/'
    xmlns:cc='http://creativecommons.org/ns%23'
    xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'
    xmlns:svg='http://www.w3.org/2000/svg'
    xmlns='http://www.w3.org/2000/svg'
    xmlns:xlink='http://www.w3.org/1999/xlink'
    xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'
    xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'
    viewBox='0 0 2000 523.1456'
    version='1.1' id='svg859'
    sodipodi:docname='screenshot-alt4.svg'
    inkscape:version='0.92.4 (5da689c313%2c 2019-01-14)'%3e %3cdefs id='defs838'%3e %3clinearGradient id='linearGradient4581'%3e %3cstop style='stop-color:%2336b6b2%3bstop-opacity:1%3b' offset='0' id='stop4577' /%3e %3cstop style='stop-color:white%3bstop-opacity:1' offset='1' id='stop4579' /%3e %3c/linearGradient%3e %3clinearGradient id='linearGradient4557'%3e %3cstop style='stop-color:%2336b6b2%3bstop-opacity:1' offset='0' id='stop4553' /%3e %3cstop style='stop-color:white%3bstop-opacity:1' offset='1' id='stop4555' /%3e %3c/linearGradient%3e %3clinearGradient xlink:href='%23linearGradient4557' id='linearGradient4559' x1='-147.94083' y1='258.08755' x2='-147.70168' y2='400.15048' gradientUnits='userSpaceOnUse' /%3e %3clinearGradient xlink:href='%23linearGradient4581' id='linearGradient4583' x1='66.397118' y1='336.13425' x2='65.991951' y2='477.50446' gradientUnits='userSpaceOnUse' /%3e %3c/defs%3e %3cg id='g4580' transform='translate(66)'%3e %3cg transform='matrix(0.46223453%2c0%2c0%2c0.46223453%2c13.12176%2c-42.953889)' id='g822'%3e %3cpath style='fill:%2300807c' inkscape:connector-curvature='0' id='path815' transform='matrix(-0.93969262%2c-0.34202015%2c-0.34202015%2c0.93969262%2c0%2c0)' d='m -148.5425%2c184.85715 c 16.18191%2c0 29.20922%2c13.02731 29.20922%2c29.20921 v 175.25528 c 0%2c16.1819 -13.02731%2c29.20921 -29.20922%2c29.20921 -16.1819%2c0 -29.20921%2c-13.02731 -29.20921%2c-29.20921 V 214.06636 c 0%2c-16.1819 13.02731%2c-29.20921 29.20921%2c-29.20921 z' /%3e %3cpath style='fill:%2300807c' inkscape:connector-curvature='0' id='path817' transform='rotate(-20)' d='m 65.762554%2c262.85675 c 16.181904%2c0 29.209213%2c13.02731 29.209213%2c29.20921 v 175.25528 c 0%2c16.18191 -13.027309%2c29.20922 -29.209213%2c29.20922 -16.181904%2c0 -29.209213%2c-13.02731 -29.209213%2c-29.20922 V 292.06596 c 0%2c-16.1819 13.027309%2c-29.20921 29.209213%2c-29.20921 z' /%3e %3cpath inkscape:connector-curvature='0' style='fill:url(%23linearGradient4559)%3bfill-opacity:1' id='path819' transform='matrix(-0.93969262%2c-0.34202014%2c-0.34202014%2c0.93969262%2c0%2c0)' d='m -148.09128%2c201.82074 c 6.4226%2c0 11.59314%2c5.17054 11.59314%2c11.59314 v 174.95734 c 0%2c6.4226 -5.17054%2c11.59314 -11.59314%2c11.59314 -6.4226%2c0 -11.59314%2c-5.17054 -11.59314%2c-11.59314 V 213.41388 c 0%2c-6.4226 5.17054%2c-11.59314 11.59314%2c-11.59314 z' /%3e %3cpath inkscape:connector-curvature='0' style='fill:url(%23linearGradient4583)%3bfill-opacity:1' id='path821' transform='rotate(-20)' d='m 65.837481%2c279.68445 c 6.422595%2c0 11.593132%2c5.17054 11.593132%2c11.59314 v 174.95734 c 0%2c6.42259 -5.170537%2c11.59313 -11.593132%2c11.59313 -6.422594%2c0 -11.593131%2c-5.17054 -11.593131%2c-11.59313 V 291.27759 c 0%2c-6.4226 5.170537%2c-11.59314 11.593131%2c-11.59314 z' /%3e %3cpath style='fill:%2300807c' inkscape:connector-curvature='0' id='path823' transform='matrix(-0.93969262%2c-0.34202015%2c-0.34202015%2c0.93969262%2c0%2c0)' d='m -238.06157%2c152.2746 c 16.1819%2c0 29.20921%2c13.02731 29.20921%2c29.20921 v 139.20235 c 0%2c16.1819 -13.02731%2c29.20921 -29.20921%2c29.20921 -16.1819%2c0 -29.20921%2c-13.02731 -29.20921%2c-29.20921 V 181.48381 c 0%2c-16.1819 13.02731%2c-29.20921 29.20921%2c-29.20921 z' /%3e %3cpath style='fill:%2300807c' inkscape:connector-curvature='0' id='path825' transform='rotate(-20)' d='m -23.799412%2c230.25911 c 16.1819044%2c0 29.2092135%2c13.02731 29.2092135%2c29.20921 v 139.20235 c 0%2c16.1819 -13.0273091%2c29.20921 -29.2092135%2c29.20921 -16.181904%2c0 -29.209213%2c-13.02731 -29.209213%2c-29.20921 V 259.46832 c 0%2c-16.1819 13.027309%2c-29.20921 29.209213%2c-29.20921 z' /%3e %3cpath style='fill:white' inkscape:connector-curvature='0' id='path827' transform='matrix(-0.93969262%2c-0.34202014%2c-0.34202014%2c0.93969262%2c0%2c0)' d='m -237.63914%2c169.22803 c 6.4226%2c0 11.59313%2c5.17054 11.59313%2c11.59314 v 139.37098 c 0%2c6.4226 -5.17053%2c11.59314 -11.59313%2c11.59314 -6.42259%2c0 -11.59313%2c-5.17054 -11.59313%2c-11.59314 V 180.82117 c 0%2c-6.4226 5.17054%2c-11.59314 11.59313%2c-11.59314 z' /%3e %3c/g%3e %3cg id='g832' transform='matrix(0.46223453%2c0%2c0%2c0.46223453%2c13.12176%2c69.869851)'%3e %3cpath inkscape:connector-curvature='0' id='rect830' d='m 59.681994%2c17.696033 c 6.422595%2c0 11.593132%2c5.17054 11.593132%2c11.593139 V 168.66016 c 0%2c6.4226 -5.170537%2c11.59314 -11.593132%2c11.59314 -6.422594%2c0 -11.593131%2c-5.17054 -11.593131%2c-11.59314 V 29.289172 c 0%2c-6.422599 5.170537%2c-11.593139 11.593131%2c-11.593139 z' style='fill:white' transform='rotate(-20)' /%3e %3c/g%3e %3c/g%3e %3crect style='fill:grey%3bfill-opacity:1%3bstroke:none%3bstroke-width:0.36351284%3bstroke-linecap:round%3bstroke-miterlimit:4%3bstroke-dasharray:none%3bstroke-opacity:1' id='rect4568' width='1834.125' height='1' x='236' y='110.99841' rx='4.1117172' ry='0.79380006' /%3e %3c/svg%3e`;

const ProjectSummary = ({ item: project, isLinked, isSelected = false, onLink, onSelect }) => {
    
    const firstScreenshot = project.screenshots && project.screenshots.value[0];

    const handleOnLink = (e) => {

        e.stopPropagation();
        onLink(project.iri);
    };

    const handleOnClick = (e) => {

        e.stopPropagation();
        onSelect(project.iri);
    };

    return <div key={ project.iri }
        className={ `c-project-summary${ isLinked ? ' linked' : '' }${ isSelected ? ' selected' : '' }` }
        onClick={ handleOnClick }>
        <div className="img">{ firstScreenshot && firstScreenshot.screenshotUrl.value ?
            <img src={ firstScreenshot.screenshotUrl.value } alt={ firstScreenshot.shortScreenshotDescription.value }/>
            : <img style={ { left: 0, transform: 'none' } } src={ altImg } /> }
        </div>
        <div className="c-project-summary__content">
            <div className="fields">
                <div className="summary-fields">
                    <span>{ project.projectName.value } </span>
                    <span className="summary__client">{ project.clientName.value }</span>
                </div>
                <div className="actions">
                    { isLinked === undefined
                        ? null
                        : <IconButton aria-label="edit" onClick={ handleOnLink }>
                            { isLinked
                                ? <LibraryAddCheckIcon style={ { color: 'white' } } />
                                : <LibraryAddIcon style={ { color: 'white' } } />
                            }
                        </IconButton>
                    }
                </div>
            </div>
        </div>
    </div>;
}

export default ProjectSummary;
